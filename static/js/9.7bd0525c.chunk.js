(this["webpackJsonpreact-epic"]=this["webpackJsonpreact-epic"]||[]).push([[9],{346:function(e,t,n){"use strict";n.r(t);var r=n(1),i=n(0),c=n(158),a=n(13),l=n(71),s=n(75),u=n(335),o=n(339),d=n(135),j=n(189),b=n(345),h=n(131),p=n(344),g=n(14);function x(){var e=Object(a.a)(["\n@media (min-width: 768px){\n  margin-left: 6px;\n}\n@media (max-width: 768px){\n  display: block;\n  margin: 10px 0;\n}\n"]);return x=function(){return e},e}function f(){var e=Object(a.a)(["\n  margin-top: 6px;\n"]);return f=function(){return e},e}function O(){var e=Object(a.a)(["\n  max-width: 300px;\n"]);return O=function(){return e},e}function m(){var e=Object(a.a)(["\n  margin: 20px 0;\n  text-align: center;\n"]);return m=function(){return e},e}function v(){var e=Object(a.a)(["\n  margin-top: 30px;\n  margin-bottom: 30px;\n"]);return v=function(){return e},e}var w=o.a.Dragger,y=g.a.div(v()),k=(g.a.h2(m()),g.a.img(O())),C=g.a.a(f()),F=g.a.input(x()),S=Object(s.a)((function(){var e=Object(l.a)(),t=e.ImageStore,n=e.UserStore,a=Object(i.useRef)(),s=Object(i.useRef)(),o=Object(u.a)((function(){return{width:null,height:null,setWidth:function(e){o.width=e},setHeight:function(e){o.height=e},get widthStr(){return o.width?"/w/".concat(o.width):""},get heightStr(){return o.height?"/h/".concat(o.height):""},get fullStr(){return t.serverFile.attributes.url.attributes.url+"?imageView2/0"+o.widthStr+o.heightStr}}})),g=function(e){var t=document.createElement("textarea");t.value=e,t.style.position="absolute",t.style.left="-9999px",document.body.appendChild(t),t.focus(),t.select(),document.execCommand("Copy")?(document.execCommand("Copy"),d.b.success("\u590d\u5236\u6210\u529f")):d.b.error("\u590d\u5236\u5931\u8d25,\u8bf7\u901a\u8fc7\u5728\u7ebf\u9884\u89c8\u624b\u52a8\u590d\u5236"),document.body.removeChild(t)},x={showUploadList:!1,beforeUpload:function(e){return t.setFile(e),t.setFilename(e.name),null===n.currentUser?(d.b.warning("\u8bf7\u5148\u767b\u5f55\u5728\u4e0a\u4f20\uff01"),!1):/(jpg$)|(svg$)|(jpeg$)|(png$)|(gif$)/gi.test(e.type)?e.size>1048576?(d.b.error("\u56fe\u7247\u4e0d\u80fd\u8d85\u8fc71M\uff01"),!1):(t.upload().then((function(e){})).catch((function(e){})),!1):(d.b.error("\u4ec5\u53ef\u4e0a\u4f20jpg\u3001svg\u3001jpeg\u3001png\u548cgif\u7c7b\u578b\u7684\u56fe\u7247\uff01"),!1)}};return Object(r.jsxs)("div",{children:[Object(r.jsx)(j.a,{spinning:t.isUploading,tip:"\u52a0\u8f7d\u4e2d...",children:Object(r.jsxs)(w,Object(c.a)(Object(c.a)({},x),{},{tip:"\u4e0a\u4f20\u4e2d...",children:[Object(r.jsx)("p",{className:"ant-upload-drag-icon",children:Object(r.jsx)(p.a,{})}),Object(r.jsx)("p",{className:"ant-upload-text",children:"\u70b9\u51fb\u6216\u62d6\u62fd\u4e0a\u4f20\u56fe\u7247"}),Object(r.jsx)("p",{className:"ant-upload-hint",children:"\u4ec5\u652f\u6301.png/.jpg/.svg/.jpeg/.gif\u683c\u5f0f\u7684\u56fe\u7247, \u56fe\u7247\u6700\u59271M"})]}))}),Object(r.jsx)("div",{children:t.serverFile?Object(r.jsx)(y,{children:Object(r.jsxs)(b.a,{title:"\u4e0a\u4f20\u7ed3\u679c",layout:"vertical",bordered:!0,size:"middle",children:[Object(r.jsxs)(b.a.Item,{label:"\u5b8c\u6574\u8def\u5f84",span:3,children:[Object(r.jsx)("a",{target:"_blank",href:t.serverFile.attributes.url.attributes.url,children:Object(r.jsx)(h.a,{type:"link",children:"\u5728\u7ebf\u9884\u89c8"})}),Object(r.jsx)(h.a,{type:"dashed",onClick:g.bind(null,t.serverFile.attributes.url.attributes.url),children:"\u590d\u5236\u94fe\u63a5"})]}),Object(r.jsx)(b.a.Item,{label:"\u6587\u4ef6\u540d",span:3,children:t.serverFile.attributes.filename}),Object(r.jsx)(b.a.Item,{label:"\u56fe\u7247\u9884\u89c8",span:3,children:Object(r.jsx)(k,{src:t.serverFile.attributes.url.attributes.url})}),Object(r.jsxs)(b.a.Item,{label:"\u66f4\u591a\u5c3a\u5bf8",span:3,row:2,children:[Object(r.jsx)("input",{ref:a,onChange:function(){o.setWidth(a.current.value)},placeholder:"\u6700\u5927\u5bbd\u5ea6\uff08\u53ef\u9009\uff09"}),Object(r.jsx)(F,{ref:s,onChange:function(){o.setHeight(s.current.value)},placeholder:"\u6700\u5927\u9ad8\u5ea6\uff08\u53ef\u9009\uff09"}),Object(r.jsx)(C,{target:"_blank",href:o.fullStr,children:Object(r.jsx)(h.a,{type:"link",children:"\u5728\u7ebf\u9884\u89c8"})}),Object(r.jsx)(h.a,{type:"dashed",onClick:g.bind(null,o.fullStr),children:"\u590d\u5236\u94fe\u63a5"})]})]})}):null})]})}));function U(){var e=Object(a.a)(["\n  background-color: orange;\n  padding: 10px 12px;\n  margin-bottom: 30px;\n  font-size: 14px;\n  color: #fff;\n"]);return U=function(){return e},e}var I=g.a.div(U()),$=Object(s.a)((function(e){var t=e.children,n=Object(l.a)().UserStore;return Object(r.jsx)(r.Fragment,{children:n.currentUser?null:Object(r.jsx)(I,{children:t})})}));t.default=function(){return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)($,{children:"\u8bf7\u5148\u767b\u5f55\uff01"}),Object(r.jsx)(S,{})]})}}}]);
//# sourceMappingURL=9.7bd0525c.chunk.js.map